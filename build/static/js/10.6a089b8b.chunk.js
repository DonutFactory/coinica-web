(this.webpackJsonpcoinica=this.webpackJsonpcoinica||[]).push([[10],{1031:function(e,r,t){"use strict";t.r(r);var a=t(5),n=t(92),c=t.n(n),o=t(136),i=t(14),l=t(0),s=t(47),d=t(169),u=t(23),j=t(723),b=t(91),f=t(449),p=t(509),h=t(529),O=t(463),x=t(541),m=t(50),_=t(617),v=t.n(_),y=t(19),g=t(1),C=function(e){var r=e.referralCode,t=Object(x.a)().copy,a=function(e){t(e)?p.a.success(Object(y.a)("components.copy_code.copied")):p.a.error(Object(y.a)("components.copy_code.unable_to_copy"))};return Object(g.jsxs)(l.Fragment,{children:[Object(g.jsx)(f.a,{item:!0,xs:8,children:Object(g.jsx)("div",{id:"referral-code",className:[v.a.inputBase,v.a.labelCopy].join(" "),children:r})}),Object(g.jsxs)(f.a,{item:!0,container:!0,xs:4,className:v.a.buttonContainer,children:[Object(g.jsx)(f.a,{item:!0,className:v.a.buttonWrapper,children:Object(g.jsx)(O.a,{fullWidth:!0,variant:"outlined",color:"primary",className:v.a.button,onClick:function(){return a(r)},children:Object(y.a)("referral.copy.button")})}),Object(g.jsx)(f.a,{item:!0,className:v.a.buttonWrapper,children:Object(g.jsx)(O.a,{fullWidth:!0,variant:"contained",color:"primary",className:v.a.button,onClick:function(){return a(function(){var e="";if(r){var t=window.location,a=t.hostname,n=t.port;e="localhost"===a?"localhost:".concat(n):"".concat(m.c.protocol,"://").concat(a)}return"".concat(e,"/referral?referral_code=").concat(r)}())},children:Object(y.a)("referral.share.button")})})]})]})},R=t(493),k=function(e){var r=e.code,t=e.onChangeReferralCode,a=e.onApplyReferralLink;return Object(g.jsxs)(l.Fragment,{children:[Object(g.jsx)(f.a,{item:!0,xs:8,children:Object(g.jsx)(R.a,{className:v.a.inputBase,placeholder:"102qwertxxxxxx",value:r,onChange:function(e){return t(e)}})}),Object(g.jsx)(f.a,{item:!0,container:!0,xs:4,className:v.a.buttonContainer,children:Object(g.jsx)(f.a,{item:!0,xs:12,children:Object(g.jsx)(O.a,{fullWidth:!0,variant:"contained",color:"primary",className:v.a.button,onClick:function(){return a()},children:Object(y.a)("referral.applyReferral.button")})})})]})},w=t(485),N=m.c.assets_url,W="".concat(N,"/imgs/platform/referral/coin.png"),A="".concat(N,"/imgs/platform/referral/user_add.svg"),I=t(727),E=t.n(I),S=function(e){var r=e.rate,t=e.bonus;return Object(g.jsxs)(w.a,{className:E.a.container,children:[Object(g.jsxs)(f.a,{item:!0,xs:12,sm:6,className:E.a.infoWrapper,children:[Object(g.jsx)("img",{src:A,width:"75",height:"70",alt:"user add"}),Object(g.jsxs)("div",{className:E.a.infoPercentage,children:[Object(g.jsx)("div",{children:Object(y.a)("referral.rate")}),Object(g.jsxs)("div",{children:[r||0,"%"]})]})]}),Object(g.jsx)("div",{className:E.a.divider}),Object(g.jsxs)(f.a,{item:!0,xs:12,sm:6,className:E.a.infoWrapper,children:[Object(g.jsx)("img",{src:W,width:"75",height:"70",alt:"coin"}),Object(g.jsxs)("div",{className:E.a.infoPercentage,children:[Object(g.jsx)("div",{children:Object(y.a)("referral.bonus")}),Object(g.jsx)("div",{children:t||0})]})]})]})},P=t(489),B=t(454),D=t(399),L=t(618),M=t.n(L),H=function(e){var r=e.show,t=e.onClose,a=e.applyReferralCode,n=e.onApplyReferralLink;return Object(g.jsx)(P.a,{open:r,onClose:function(){return t()},className:M.a.modal,"aria-labelledby":"apply-code","aria-describedby":"check-if-code-valid",closeAfterTransition:!0,BackdropComponent:B.a,BackdropProps:{timeout:500},children:Object(g.jsx)(D.a,{in:r,children:Object(g.jsxs)(w.a,{className:M.a.dialog,children:[Object(g.jsx)(b.a,{component:"h2",variant:"h5",children:"Apply Referral Code"}),Object(g.jsxs)("div",{className:M.a.body,children:[Object(g.jsx)("p",{className:M.a.referralCode,children:a}),Object(g.jsx)(O.a,{variant:"contained",color:"primary",onClick:function(){return n()},children:"Apply"})]})]})})})},F=t(1037),U=t(1013),T=function(e){var r=e.show,t=e.onClose;return Object(g.jsx)(P.a,{open:r,onClose:function(){return t()},className:M.a.modal,"aria-labelledby":"invalid-code","aria-describedby":"invalid-referral-code",closeAfterTransition:!0,BackdropComponent:B.a,BackdropProps:{timeout:500},children:Object(g.jsx)(D.a,{in:r,children:Object(g.jsx)(w.a,{className:M.a.alertError,children:Object(g.jsxs)(F.a,{severity:"error",children:[Object(g.jsx)(U.a,{children:Object(g.jsx)("h4",{children:Object(y.a)("referral.code.error.header")})}),Object(g.jsx)("span",{children:Object(y.a)("referral.code.error.subHeader")}),Object(g.jsxs)("ol",{children:[Object(g.jsx)("li",{children:Object(y.a)("referral.code.error.reason.one")}),Object(g.jsx)("li",{children:Object(y.a)("referral.code.error.reason.two")}),Object(g.jsx)("li",{children:Object(y.a)("referral.code.error.reason.three")})]})]})})})})},J=t(728),q=t.n(J),z=t(571),X=t.n(z),K=function(e){var r=e.data,t=e.showCheckReferral,a=e.showErrorReferral,n=e.onCloseCheckReferral,c=e.onCloseErrorReferral,o=e.onChangeReferralCode,i=e.applyReferralCode,l=e.onApplyReferralLink,s=r.myReferralCode,d=r.rate,u=r.bonus;return Object(g.jsxs)("div",{children:[Object(g.jsx)(H,{show:t,onClose:n,applyReferralCode:i,onApplyReferralLink:l}),Object(g.jsx)(T,{show:a,onClose:c}),Object(g.jsx)(b.a,{component:"h2",className:X.a.heading,children:Object(y.a)("referral.title")}),Object(g.jsxs)(f.a,{container:!0,xs:!0,className:q.a.container,children:[Object(g.jsx)(f.a,{item:!0,container:!0,children:Object(g.jsx)(C,{referralCode:s})}),Object(g.jsx)(f.a,{item:!0,container:!0,children:Object(g.jsx)(S,{rate:d,bonus:u})}),Object(g.jsx)(f.a,{item:!0,container:!0,children:Object(g.jsx)(k,{onChangeReferralCode:o,onApplyReferralLink:l,code:i})})]})]})},V=t(614),Y=t(615),G=t(611),Z=t(247),Q=t(612),$=t(613),ee=t(616),re=t(729),te=t.n(re),ae=function(e){var r=e.data;return Object(g.jsxs)(l.Fragment,{children:[Object(g.jsx)(b.a,{component:"h2",className:X.a.heading,children:Object(y.a)("referral.history")}),Object(g.jsx)(G.a,{className:te.a.container,component:Z.a,children:Object(g.jsxs)(Q.a,{className:te.a.table,"aria-label":"benefits table",children:[Object(g.jsx)($.a,{children:Object(g.jsxs)(V.a,{children:[Object(g.jsx)(Y.a,{align:"center",children:Object(y.a)("referral.history.date")}),Object(g.jsx)(Y.a,{align:"center",children:Object(y.a)("referral.history.time")}),Object(g.jsx)(Y.a,{align:"center",children:Object(y.a)("referral.history.referent")})]})}),Object(g.jsx)(ee.a,{children:r.length?r.map((function(e,r){return Object(g.jsxs)(V.a,{children:[Object(g.jsx)(Y.a,{align:"center",children:new Date(e.created_at).toLocaleDateString("en-US")}),Object(g.jsx)(Y.a,{align:"center",children:new Date(e.created_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}),Object(g.jsx)(Y.a,{align:"center",children:e.applied_by})]},r)})):Object(g.jsx)(V.a,{children:Object(g.jsx)(Y.a,{colSpan:3,className:te.a.emptyData,children:Object(y.a)("misc.noAvailableData")})})})]})})]})},ne=t(499),ce=t(28),oe=Object(y.a)("referral.instruction"),ie=[Object(y.a)("referral.instruction.one"),Object(y.a)("referral.instruction.two"),Object(y.a)("referral.instruction.three")],le={checkReferral:!1,errorReferral:!1};r.default=function(){var e=Object(s.d)((function(e){return e.platform})).account,r=Object(s.c)(),t=Object(u.g)(),n=Object(l.useState)([]),O=Object(i.a)(n,2),x=O[0],m=O[1],_=Object(l.useState)(""),v=Object(i.a)(_,2),C=v[0],R=v[1],k=Object(l.useState)(le),w=Object(i.a)(k,2),N=w[0],W=w[1],A=Object(l.useState)(""),I=Object(i.a)(A,2),E=I[0],S=I[1],P=function(){var t=Object(o.a)(c.a.mark((function t(){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(Object(d.b)(!0)),t.prev=1,t.next=4,Object(ne.o)(null===e||void 0===e?void 0:e.referral_code);case 4:a=t.sent,m(a.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),R(t.t0.message);case 11:return t.prev=11,r(Object(d.b)(!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(){return t.apply(this,arguments)}}(),B=function(){var t=Object(o.a)(c.a.mark((function t(){var a,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.id,t.prev=1,t.next=4,Object(ne.a)(E,a);case 4:return t.next=6,Object(ne.k)(a);case 6:n=t.sent,r(Object(ce.d)(n.data)),W(le),p.a.success(Object(y.a)("referral.code.apply")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),W({errorReferral:!0,checkReferral:!1});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(){return t.apply(this,arguments)}}();if(Object(l.useEffect)((function(){e&&P()}),[e]),Object(l.useEffect)((function(){var r=t.location.search;if(e&&r){var n=Object(j.parse)(r).referral_code;n&&e.referral_code!==n&&(W((function(e){return Object(a.a)(Object(a.a)({},e),{},{checkReferral:!0})})),S(n))}}),[t.location,e]),C)return Object(g.jsx)(b.a,{component:"p",align:"center",children:C});var D={myReferralCode:null===e||void 0===e?void 0:e.referral_code,rate:null===e||void 0===e?void 0:e.referral_rate,bonus:null===e||void 0===e?void 0:e.referral,otherReferralCode:E};return Object(g.jsx)(l.Fragment,{children:Object(g.jsxs)(f.a,{container:!0,xs:!0,children:[Object(g.jsx)(f.a,{item:!0,className:X.a.howItWorksWrapper,xs:12,children:Object(g.jsx)(h.a,{title:oe,instruction:ie})}),Object(g.jsx)(f.a,{item:!0,xs:12,children:Object(g.jsx)(K,{data:D,showCheckReferral:N.checkReferral,showErrorReferral:N.errorReferral,applyReferralCode:E,onChangeReferralCode:function(e){S(e.target.value)},onCloseCheckReferral:function(){W((function(e){return Object(a.a)(Object(a.a)({},e),{},{checkReferral:!1})}))},onCloseErrorReferral:function(){W((function(e){return Object(a.a)(Object(a.a)({},e),{},{errorReferral:!1})}))},onApplyReferralLink:B})}),Object(g.jsx)(f.a,{item:!0,xs:12,children:Object(g.jsx)(ae,{data:x})})]})})}},499:function(e,r,t){"use strict";t.d(r,"l",(function(){return c})),t.d(r,"k",(function(){return o})),t.d(r,"m",(function(){return i})),t.d(r,"d",(function(){return l})),t.d(r,"e",(function(){return s})),t.d(r,"a",(function(){return d})),t.d(r,"o",(function(){return u})),t.d(r,"b",(function(){return j})),t.d(r,"n",(function(){return b})),t.d(r,"c",(function(){return f})),t.d(r,"g",(function(){return p})),t.d(r,"f",(function(){return h})),t.d(r,"h",(function(){return O})),t.d(r,"j",(function(){return x})),t.d(r,"i",(function(){return m}));t(92),t(136),t(137);var a=t(50),n=(t(28),t(166)),c=function(){var e=Object(n.b)();return a.a.get("/donut/api/v1/account/wallets",{headers:e})},o=function(e){var r=Object(n.b)();return a.a.get("/donut/api/v1/account/id/".concat(e),{headers:r})},i=function(e){var r=Object(n.b)();return a.a.get("/donut/api/v1/vip",{params:{id:e},headers:r})},l=function(){return a.a.get("/donut/api/v1/challenge/ranks/daily")},s=function(){return a.a.get("/donut/api/v1/challenge")},d=function(e,r){var t=Object(n.b)();return a.a.post("/donut/api/v1/referral/apply",{code:e,applied_by:r},{headers:t})},u=function(e){var r=Object(n.b)();return a.a.get("/donut/api/v1/referral/history/".concat(e),{headers:r})},j=function(e,r){var t=Object(n.b)();return a.a.get("/donut/api/v1/task/daily",{params:{user:e,game_id:r},headers:t})},b=function(e,r){var t=Object(n.b)();return a.a.get("/donut/api/v1/task/monthly",{params:{user:e,game_id:r},headers:t})},f=function(){return a.a.get("/donut/api/v1/games")},p=function(){return a.a.get("/donut/api/v1/ranking/monthly")},h=function(){return a.a.get("/donut/api/v1/ranking/daily")},O=function(){return a.a.get("/donut/api/v1/news")},x=function(){var e=Object(n.b)();return a.a.get("/donut/api/v1/account/wallet/history",{headers:e})},m=function(){return a.a.get("/")}},529:function(e,r,t){"use strict";var a=t(531),n=t.n(a),c=t(19),o=t(530),i=t.n(o),l=t(1);r.a=function(e){var r=e.title,t=e.instruction,a=e.className;return Object(l.jsxs)("div",{className:[i.a.container,a].join(" "),children:[r&&Object(l.jsx)("h3",{children:r}),Object(l.jsxs)("p",{children:[Object(l.jsx)(n.a,{className:i.a.iconInfo}),Object(c.a)("misc.howItWorks")]}),Object(l.jsx)("ol",{children:t.map((function(e,r){return Object(l.jsx)("li",{children:e},r)}))})]})}},530:function(e,r,t){e.exports={container:"HowItWorks_container__uVCd6",iconInfo:"HowItWorks_iconInfo__1Yh1B"}},541:function(e,r,t){"use strict";function a(){return{copy:function(e){try{var r=document.createElement("textarea");r.id="temp_code",r.style.height="0",document.body.appendChild(r),r.value=e||"";var t=document.querySelector("#temp_code");return null===t||void 0===t||t.select(),document.execCommand("copy"),document.body.removeChild(r),!0}catch(a){return console.error(a),!1}}}}t.d(r,"a",(function(){return a}))},571:function(e,r,t){e.exports={bannerWrapper:"Referral_bannerWrapper__31SXx",levelWrapper:"Referral_levelWrapper__zxM8b",howItWorksWrapper:"Referral_howItWorksWrapper__3XraU",heading:"Referral_heading__33wPk"}},617:function(e,r,t){e.exports={inputBase:"ReferralCode_inputBase__GrIig",labelCopy:"ReferralCode_labelCopy__3gtT0",labelApplyCode:"ReferralCode_labelApplyCode__eAZYh",buttonContainer:"ReferralCode_buttonContainer__3tPpi",buttonWrapper:"ReferralCode_buttonWrapper__16r9U",buttonCopy:"ReferralCode_buttonCopy__V_-ri",button:"ReferralCode_button__2qaTe"}},618:function(e,r,t){e.exports={modal:"Modal_modal__1FySg",dialog:"Modal_dialog__nznDd",alertError:"Modal_alertError__3NOE9",body:"Modal_body__1Rd52",referralCode:"Modal_referralCode__3HvKk"}},727:function(e,r,t){e.exports={container:"Rate_container__DhMmx",infoWrapper:"Rate_infoWrapper__Ai8Ud",divider:"Rate_divider__3Uzh1",infoPercentage:"Rate_infoPercentage__19CwK"}},728:function(e,r,t){e.exports={container:"MyReferral_container__3E_9g"}},729:function(e,r,t){e.exports={container:"IncomeHistory_container__39sJy",table:"IncomeHistory_table__3POFl",emptyData:"IncomeHistory_emptyData__3JP9X"}}}]);