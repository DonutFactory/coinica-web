(this.webpackJsonpcoinica=this.webpackJsonpcoinica||[]).push([[25],{1103:function(e,t,a){"use strict";a.r(t);var n=a(20),c=a(6),s=a(224),r=a(0),i=a(707),o=a.n(i),l=a(532),u=a(445),d=a(433),b=a(378),j=a(374),p=a(422),O=a(1095),m=a(1070),g=a(10).c.assets_url,x="".concat(g,"/imgs/coinica-logo.png"),h=a(726),_=a.n(h),f=a(52),v=a(37),w=a.n(v),S=a(59),k=a(30),N=a(727),C=a.n(N),y=a(243),M=a(110),T=a(508),L=a(410),E=a(1043),D=a(1065),F=a(377),z=a(419),I=a(8),K=a(446),R=a(24),W=a(1066),A=a(1067),P=a(23),q=a(227),B=a(17),J=a(137),U=a(118),G=a(164),H=a(2),V=function(e){var t=e.username,a=e.password;return Object(U.e)({username:t,password:a})},Y=function(e){return Object(J.k)(e)},Q=function(e){return Object(H.jsx)("span",{children:Object(f.a)("signup.msg.add.email",{span:function(t){return Object(H.jsx)("span",{className:"text-warning text-bold",onClick:function(){return e.push("/account/settings")},children:t})}})})},X=Object(I.a)((function(e){return Object(K.a)({root:{"label + &":{marginTop:e.spacing(3.5)}},input:{direction:"ltr",color:"white",borderRadius:10,position:"relative",backgroundColor:"#0E141F",fontSize:16,width:"100%",padding:"14px 12px",transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:"Roboto","&:focus":{boxShadow:"".concat(Object(R.a)(e.palette.primary.main,.25)," 0 0 0 0.2rem")}}})}))(y.a),Z=Object(k.b)((function(e){return{platform:e.platform}}),(function(e){return{dispatch:e}}))((function(e){var t=e.platform,a=(e.requestResetPassword,e.dispatch),c=e.handleSignUpModalClose,s=Object(P.g)(),i=Object(r.useState)(""),o=Object(n.a)(i,2),l=o[0],u=o[1],d=Object(r.useState)(""),b=Object(n.a)(d,2),j=b[0],p=b[1],O=Object(r.useState)(!1),m=Object(n.a)(O,2),g=m[0],x=m[1],h=Object(r.useState)(!1),_=Object(n.a)(h,2),v=_[0],k=_[1],N=Object(r.useState)(!1),y=Object(n.a)(N,2),I=y[0],K=y[1],R=Object(q.a)().formatMessage,Z=function(){var e=Object(S.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(J.l)();case 3:t=e.sent,(n=t.data)&&a(Object(B.i)(n)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(S.a)(w.a.mark((function e(t){var n,r,i,o,u,d,b,p,O,m,g,x,h;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,k(!0),e.next=5,V({username:l,password:j});case 5:return n=e.sent,r=n.data,i=r.id,o=r.token,Object(U.d)({CLIENT_TOKEN:o,CLIENT_ID:i}),e.next=12,Y(i);case 12:u=e.sent,Z(),u.data&&(d=u.data,b=d.username,p=d.email,O=d.is_verified,G.a.success("".concat(R({id:"signup.msg.welcome"})," ").concat(b||p,"!")),p||O||G.a.info(Q(s),{autoClose:!1}),a(Object(B.h)(u.data)),a(Object(B.g)(null)),c()),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),401===(null===e.t0||void 0===e.t0||null===(m=e.t0.response)||void 0===m?void 0:m.status)&&"Unauthorized"===(null===e.t0||void 0===e.t0||null===(g=e.t0.response)||void 0===g?void 0:g.statusText)&&!1===((null===e.t0||void 0===e.t0||null===(x=e.t0.response)||void 0===x||null===(h=x.config)||void 0===h?void 0:h.url)+"").includes("account")?(a(Object(B.g)(R({id:"login.msg.invalid"}))),K(!0)):a(Object(B.g)(R({id:"login.msg.error"})));case 20:return e.prev=20,k(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,17,20,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(M.a,{className:"".concat(C.a.error),children:t.error}),Object(H.jsx)("form",{onSubmit:$,children:Object(H.jsxs)(T.a,{container:!0,spacing:4,children:[Object(H.jsx)(T.a,{item:!0,xs:12,children:Object(H.jsxs)(L.a,{fullWidth:!0,children:[Object(H.jsx)(E.a,{shrink:!0,className:"".concat(C.a.label),children:Object(f.a)("login.username")}),Object(H.jsx)(X,{id:"bootstrap-input",value:l,onChange:function(e){I&&K(!1);var t=e.target.value;u(t)}})]})}),Object(H.jsx)(T.a,{item:!0,xs:12,children:Object(H.jsxs)(L.a,{fullWidth:!0,children:[Object(H.jsx)(E.a,{shrink:!0,htmlFor:"standard-adornment-password",className:"".concat(C.a.label),children:Object(f.a)("login.password")}),Object(H.jsx)(X,{id:"standard-adornment-password",type:g?"text":"password",value:j,onChange:function(e){I&&K(!1);var t=e.target.value;p(t)},className:"".concat(C.a.password_field),endAdornment:Object(H.jsx)(D.a,{position:"end",className:"".concat(C.a.password_visibility),children:Object(H.jsx)(F.a,{"aria-label":"toggle password visibility",onClick:function(){x(!g)},onMouseDown:function(e){e.preventDefault()},edge:"end",children:g?Object(H.jsx)(W.a,{}):Object(H.jsx)(A.a,{})})})})]})}),Object(H.jsx)(T.a,{item:!0,xs:12,className:"".concat(C.a.login_submit," center-content"),children:Object(H.jsx)(z.a,{variant:"contained",color:"primary",size:"large",type:"submit",disabled:v,children:Object(f.a)("login.button")})})]})})]})})),$=a(29),ee=a(728),te=a.n(ee),ae=a(426),ne=a(1104),ce=a(429),se=a(1068),re=a(1069),ie=Object(I.a)((function(e){return Object(K.a)({root:{"label + &":{marginTop:e.spacing(3.5)}},input:{direction:"ltr",color:"white",borderRadius:10,position:"relative",backgroundColor:"#0E141F",fontSize:16,width:"100%",padding:"14px 12px",transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:"Roboto","&:focus":{boxShadow:"".concat(Object(R.a)(e.palette.primary.main,.25)," 0 0 0 0.2rem")}}})}))(y.a),oe=Object(k.b)((function(e){return{platform:e.platform}}),(function(e){return{dispatch:e}}))((function(e){e.setTabKey,e.platform;var t=e.dispatch,a=Object(P.g)(),s=Object(r.useState)(function(){for(var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",t="",a=7;a>0;--a)t+=e[Math.floor(Math.random()*e.length)];return t}()),i=Object(n.a)(s,2),o=i[0],u=i[1],d=Object(r.useState)(""),b=Object(n.a)(d,2),j=b[0],p=b[1],O=Object(r.useState)({password:"",password2:""}),m=Object(n.a)(O,2),g=m[0],x=m[1],h=Object(r.useState)(!1),_=Object(n.a)(h,2),v=(_[0],_[1],Object(r.useState)(!1)),k=Object(n.a)(v,2),N=k[0],C=k[1],y=Object(r.useState)(!1),I=Object(n.a)(y,2),K=I[0],R=I[1],V=Object(r.useState)(!1),Y=Object(n.a)(V,2),X=Y[0],Z=Y[1],ee=Object(r.useState)(""),oe=Object(n.a)(ee,2),le=oe[0],ue=oe[1],de=Object(r.useState)(""),be=Object(n.a)(de,2),je=be[0],pe=be[1],Oe=Object(r.useState)(!1),me=Object(n.a)(Oe,2),ge=me[0],xe=me[1],he=Object(q.a)().formatMessage,_e=function(){var e=Object(S.a)(w.a.mark((function e(){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(J.l)();case 3:a=e.sent,n=a.data,t(Object(B.i)(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),fe=function(e){var t=e.target,a=t.name,n=t.value;x(Object(c.a)(Object(c.a)({},g),{},Object($.a)({},a,n))),ge&&xe(!1)},ve=function(){var e=Object(S.a)(w.a.mark((function e(n){var c,s,r,i,o,l,u,d,b,j,p;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.username,s=n.password,e.prev=1,Z(!0),e.next=5,Object(U.e)({username:c,password:s});case 5:return r=e.sent,i=r.data,o=i.id,l=i.token,Object(U.d)({CLIENT_TOKEN:l,CLIENT_ID:o}),e.next=12,_e();case 12:return e.next=14,Object(J.k)(o);case 14:(u=e.sent).data&&(d=u.data,b=d.username,j=d.email,p=d.is_verified,G.a.success("".concat(he({id:"signup.msg.welcome"})," ").concat(b||j,"!")),j||p||G.a.info(Q(a),{autoClose:!1}),t(Object(B.h)(u.data)),t(Object(B.g)(null)));case 16:return e.prev=16,R(!1),Z(!1),e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[1,,16,20]])})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(S.a)(w.a.mark((function e(t){var a,n,c,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),g.password!==g.password2&&(xe(!0),1)){e.next=28;break}return e.prev=2,R(!0),a={username:o,password:g.password},""!==j&&(a.referred_by=j),e.next=8,Object(U.g)(a);case 8:if(201!==(null===(n=e.sent)||void 0===n?void 0:n.status)||"Created"!==(null===n||void 0===n?void 0:n.statusText)){e.next=18;break}pe(""),ue(he({id:"signup.msg.success"})),u(""),p(""),x({password:"",password2:""}),ve({username:o,password:g.password}),e.next=19;break;case 18:throw new Error(he({id:"signup.msg.error"}));case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(2),ue(""),409===(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.status)&&"Conflict"===(null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s?void 0:s.statusText)?pe(he({id:"signup.msg.username.exist"})):pe(he({id:"signup.msg.server.error"}));case 25:return e.prev=25,R(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[2,21,25,28]])})));return function(t){return e.apply(this,arguments)}}(),Se=function(){C(!N)},ke=function(e){e.preventDefault()};return Object(H.jsx)("form",{onSubmit:we,children:Object(H.jsxs)(T.a,{container:!0,spacing:4,children:[je&&Object(H.jsx)(T.a,{item:!0,xs:12,className:"".concat(te.a.error_message),children:je}),le&&Object(H.jsx)(T.a,{item:!0,xs:12,className:"".concat(te.a.success_message),children:le}),Object(H.jsx)(T.a,{item:!0,xs:12,children:Object(H.jsxs)(L.a,{fullWidth:!0,children:[Object(H.jsx)(E.a,{shrink:!0,htmlFor:"bootstrap-input",className:"".concat(te.a.label),children:Object(f.a)("signup.username")}),Object(H.jsx)(ie,{required:!0,id:"bootstrap-input",value:o,onChange:function(e){var t=e.target.value;u(t),je&&pe(""),le&&ue("")},endAdornment:""!==o?Object(H.jsx)(D.a,{position:"end",className:"".concat(te.a.adornment_element),children:Object(H.jsx)(F.a,{"aria-label":"toggle password visibility",onClick:function(){return u("")},onMouseDown:function(){return u("")},edge:"end",children:Object(H.jsx)(se.a,{})})}):""}),Object(H.jsxs)(l.a,{display:"flex",className:"".concat(te.a.important),pt:"10px",children:[Object(H.jsx)(M.a,{variant:"caption",component:"text",gutterBottom:!0,children:Object(f.a)("signup.important",{strong:function(e){return Object(H.jsx)("strong",{children:e})}})}),Object(H.jsx)(re.a,{})]})]})}),Object(H.jsx)(T.a,{item:!0,xs:12,children:Object(H.jsxs)(L.a,{fullWidth:!0,children:[Object(H.jsx)(E.a,{shrink:!0,htmlFor:"bootstrap-input",className:"".concat(te.a.label),children:Object(f.a)("signup.password")}),Object(H.jsx)(ie,{name:"password",type:N?"text":"password",value:g.password,onChange:fe,defaultValue:"",id:"bootstrap-input",endAdornment:Object(H.jsx)(D.a,{position:"end",className:"".concat(te.a.adornment_element),children:Object(H.jsx)(F.a,{"aria-label":"toggle password visibility",onClick:Se,onMouseDown:ke,edge:"end",children:N?Object(H.jsx)(W.a,{}):Object(H.jsx)(A.a,{})})})})]})}),Object(H.jsx)(T.a,{item:!0,xs:12,children:Object(H.jsxs)(L.a,{fullWidth:!0,children:[Object(H.jsx)(E.a,{shrink:!0,htmlFor:"bootstrap-input",className:"".concat(te.a.label),children:Object(f.a)("signup.confirm.password")}),Object(H.jsx)(ie,{name:"password2",type:N?"text":"password",value:g.password2,onChange:fe,id:"bootstrap-input",endAdornment:Object(H.jsx)(D.a,{position:"end",className:"".concat(te.a.adornment_element),children:Object(H.jsx)(F.a,{"aria-label":"toggle password visibility",onClick:Se,onMouseDown:ke,edge:"end",children:N?Object(H.jsx)(W.a,{}):Object(H.jsx)(A.a,{})})})})]})}),Object(H.jsx)(T.a,{item:!0,xs:12,children:Object(H.jsxs)(L.a,{fullWidth:!0,children:[Object(H.jsx)(E.a,{shrink:!0,htmlFor:"bootstrap-input",className:"".concat(te.a.label),children:Object(f.a)("signup.referral")}),Object(H.jsx)(ie,{id:"bootstrap-input",name:"code",value:j,onChange:function(e){var t;return p(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)}})]})}),Object(H.jsx)(T.a,{item:!0,xs:12,children:Object(H.jsx)(L.a,{children:Object(H.jsx)(ae.a,{className:"".concat(te.a.agreement_label),value:"start",control:Object(H.jsx)(ne.a,{className:"".concat(te.a.agreement)}),label:Object(f.a)("signup.agreement"),labelPlacement:"start"})})}),Object(H.jsx)(T.a,{item:!0,xs:12,children:Object(H.jsx)(ce.a,{className:"".concat(te.a.divider)})}),Object(H.jsx)(T.a,{item:!0,justifyContent:"center",xs:12,className:"".concat(te.a.signup_submit," center-content"),children:Object(H.jsx)(z.a,{variant:"contained",color:"primary",size:"large",disabled:K,type:"submit",children:X?Object(f.a)("signup.signing.in"):K?Object(f.a)("signup.creating.account"):Object(f.a)("signup.create.account")})})]})})})),le=["children","value","index"];function ue(e){var t=e.children,a=e.value,n=e.index,r=Object(s.a)(e,le);return Object(H.jsx)("div",Object(c.a)(Object(c.a)({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},r),{},{children:a===n&&Object(H.jsx)(l.a,{p:3,children:t})}))}function de(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}t.default=function(e){var t=e.openModal,a=e.handleSignUpModalClose,s=Object(r.useState)(0),i=Object(n.a)(s,2),g=i[0],h=i[1],v=Object(r.useState)(!1),w=Object(n.a)(v,2),S=(w[0],w[1]),k=Object(r.useState)("signup"),N=Object(n.a)(k,2),C=(N[0],N[1]);return Object(H.jsx)(u.a,{open:t,onClose:function(){return a()},BackdropComponent:d.a,BackdropProps:{timeout:500},closeAfterTransition:!0,className:"".concat(_.a.modal),children:Object(H.jsx)(b.a,{in:t,children:Object(H.jsxs)(j.a,{elevation:3,className:"".concat(_.a.modal_content),children:[Object(H.jsx)(l.a,{className:"".concat(_.a.logo_container),children:Object(H.jsx)("img",{src:x,className:"".concat(_.a.logo)})}),Object(H.jsx)(p.a,{position:"static",color:"transparent",className:"".concat(_.a.appbar),children:Object(H.jsxs)(O.a,{value:g,onChange:function(e,t){h(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[Object(H.jsx)(m.a,Object(c.a)(Object(c.a)({label:Object(f.a)("header.login")},de(0)),{},{className:"".concat(_.a.tab)})),Object(H.jsx)(m.a,Object(c.a)(Object(c.a)({label:Object(f.a)("header.signup")},de(1)),{},{className:"".concat(_.a.tab)}))]})}),Object(H.jsxs)(o.a,{axis:"x",index:g,onChangeIndex:function(e){h(e)},children:[Object(H.jsx)(ue,{value:g,index:0,dir:"rtl",children:Object(H.jsx)(Z,{setTabKey:C,requestResetPassword:S,handleSignUpModalClose:a})}),Object(H.jsx)(ue,{value:g,index:1,dir:"rtl",children:Object(H.jsx)(oe,{setTabKey:C})})]})]})})})}},726:function(e,t,a){e.exports={modal:"SignupModal_modal__1aE5G",modal_content:"SignupModal_modal_content__I4eiW",logo:"SignupModal_logo__3Yd-K",logo_container:"SignupModal_logo_container__1v8An",appbar:"SignupModal_appbar__3i7Kh",tab:"SignupModal_tab__1Lo7g"}},727:function(e,t,a){e.exports={input_field:"Login_input_field__1u3Yt",label:"Login_label__2SHP6",agreement:"Login_agreement__2Qq-T",agreement_label:"Login_agreement_label__1T7kh",divider:"Login_divider__1asAQ",login_submit:"Login_login_submit__2YOzB",important:"Login_important__a3JOn",password_field:"Login_password_field__1R8pV",password_visibility:"Login_password_visibility__11H5c",error:"Login_error__3Mcui"}},728:function(e,t,a){e.exports={input_field:"Signup_input_field__2cuBq",error_message:"Signup_error_message__1z-zH",success_message:"Signup_success_message__13Jme",label:"Signup_label__3-JEV",agreement:"Signup_agreement__3ePwC",agreement_label:"Signup_agreement_label__3G5RS",divider:"Signup_divider__2oEUG",signup_submit:"Signup_signup_submit__1cjt9",important:"Signup_important__1nIsC",adornment_field:"Signup_adornment_field__3zS2m",adornment_element:"Signup_adornment_element__XKf97"}}}]);