(this.webpackJsonpcoinica=this.webpackJsonpcoinica||[]).push([[5],{485:function(e,r,a){"use strict";a.d(r,"i",(function(){return c})),a.d(r,"k",(function(){return o})),a.d(r,"d",(function(){return i})),a.d(r,"e",(function(){return l})),a.d(r,"a",(function(){return s})),a.d(r,"m",(function(){return d})),a.d(r,"b",(function(){return j})),a.d(r,"l",(function(){return u})),a.d(r,"c",(function(){return b})),a.d(r,"g",(function(){return f})),a.d(r,"f",(function(){return p})),a.d(r,"h",(function(){return h})),a.d(r,"j",(function(){return O}));a(90),a(135),a(136);var t=a(50),n=(a(28),a(165)),c=function(e){var r=Object(n.b)();return t.a.get("/donut/api/v1/account/id/".concat(e),{headers:r})},o=function(e){var r=Object(n.b)();return t.a.get("/donut/api/v1/vip",{params:{id:e},headers:r})},i=function(){return t.a.get("/donut/api/v1/challenge/ranks/daily")},l=function(){return t.a.get("/donut/api/v1/challenge")},s=function(e,r){var a=Object(n.b)();return t.a.post("/donut/api/v1/referral/apply",{code:e,applied_by:r},{headers:a})},d=function(e){var r=Object(n.b)();return t.a.get("/donut/api/v1/referral/history/".concat(e),{headers:r})},j=function(e,r){var a=Object(n.b)();return t.a.get("/donut/api/v1/task/daily",{params:{user:e,game_id:r},headers:a})},u=function(e,r){var a=Object(n.b)();return t.a.get("/donut/api/v1/task/monthly",{params:{user:e,game_id:r},headers:a})},b=function(){return t.a.get("/donut/api/v1/games")},f=function(){return t.a.get("/donut/api/v1/ranking/monthly")},p=function(){return t.a.get("/donut/api/v1/ranking/daily")},h=function(){return t.a.get("/donut/api/v1/news")},O=function(e){var r=Object(n.b)();return t.a.get("/donut/api/v1/get/account/username/by?id=".concat(e),{headers:r})}},487:function(e,r,a){"use strict";var t=a(489),n=a.n(t),c=a(19),o=a(488),i=a.n(o),l=a(1);r.a=function(e){var r=e.title,a=e.instruction,t=e.className;return Object(l.jsxs)("div",{className:[i.a.container,t].join(" "),children:[r&&Object(l.jsx)("h3",{children:r}),Object(l.jsxs)("p",{children:[Object(l.jsx)(n.a,{className:i.a.iconInfo}),Object(c.a)("misc.howItWorks")]}),Object(l.jsx)("ol",{children:a.map((function(e,r){return Object(l.jsx)("li",{children:e},r)}))})]})}},488:function(e,r,a){e.exports={container:"HowItWorks_container__uVCd6",iconInfo:"HowItWorks_iconInfo__1Yh1B"}},494:function(e,r,a){e.exports={bannerWrapper:"Referral_bannerWrapper__31SXx",levelWrapper:"Referral_levelWrapper__zxM8b",howItWorksWrapper:"Referral_howItWorksWrapper__3XraU",heading:"Referral_heading__33wPk"}},505:function(e,r,a){e.exports={inputBase:"ReferralCode_inputBase__GrIig",labelCopy:"ReferralCode_labelCopy__3gtT0",labelApplyCode:"ReferralCode_labelApplyCode__eAZYh",buttonContainer:"ReferralCode_buttonContainer__3tPpi",buttonWrapper:"ReferralCode_buttonWrapper__16r9U",buttonCopy:"ReferralCode_buttonCopy__V_-ri",button:"ReferralCode_button__2qaTe"}},507:function(e,r,a){e.exports={modal:"Modal_modal__1FySg",dialog:"Modal_dialog__nznDd",alertError:"Modal_alertError__3NOE9",body:"Modal_body__1Rd52",referralCode:"Modal_referralCode__3HvKk"}},537:function(e,r,a){e.exports={container:"Rate_container__DhMmx",infoWrapper:"Rate_infoWrapper__Ai8Ud",divider:"Rate_divider__3Uzh1",infoPercentage:"Rate_infoPercentage__19CwK"}},538:function(e,r,a){e.exports={container:"MyReferral_container__3E_9g"}},539:function(e,r,a){e.exports={container:"IncomeHistory_container__39sJy",table:"IncomeHistory_table__3POFl",emptyData:"IncomeHistory_emptyData__3JP9X"}},554:function(e,r,a){"use strict";a.r(r);var t=a(5),n=a(90),c=a.n(n),o=a(135),i=a(14),l=a(0),s=a(48),d=a(166),j=a(23),u=a(522),b=a(89),f=a(438),p=a(506),h=a(487),O=a(452);var x=a(50),m=a(505),_=a.n(m),v=a(19),y=a(1),g=function(e){var r=e.referralCode,a={copy:function(e){try{var r=document.createElement("textarea");r.id="temp_code",r.style.height="0",document.body.appendChild(r),r.value=e||"";var a=document.querySelector("#temp_code");return null===a||void 0===a||a.select(),document.execCommand("copy"),document.body.removeChild(r),!0}catch(t){return console.error(t),!1}}}.copy,t=function(e){a(e)?p.a.success(Object(v.a)("components.copy_code.copied")):p.a.error(Object(v.a)("components.copy_code.unable_to_copy"))};return Object(y.jsxs)(l.Fragment,{children:[Object(y.jsx)(f.a,{item:!0,xs:8,children:Object(y.jsx)("div",{id:"referral-code",className:[_.a.inputBase,_.a.labelCopy].join(" "),children:r})}),Object(y.jsxs)(f.a,{item:!0,container:!0,xs:4,className:_.a.buttonContainer,children:[Object(y.jsx)(f.a,{item:!0,className:_.a.buttonWrapper,children:Object(y.jsx)(O.a,{fullWidth:!0,variant:"outlined",color:"primary",className:_.a.button,onClick:function(){return t(r)},children:Object(v.a)("referral.copy.button")})}),Object(y.jsx)(f.a,{item:!0,className:_.a.buttonWrapper,children:Object(y.jsx)(O.a,{fullWidth:!0,variant:"contained",color:"primary",className:_.a.button,onClick:function(){return t(function(){var e="";if(r){var a=window.location,t=a.hostname,n=a.port;e="localhost"===t?"localhost:".concat(n):"".concat(x.b.protocol,"://").concat(t)}return"".concat(e,"/referral?referral_code=").concat(r)}())},children:Object(v.a)("referral.share.button")})})]})]})},C=a(481),R=function(e){var r=e.code,a=e.onChangeReferralCode,t=e.onApplyReferralLink;return Object(y.jsxs)(l.Fragment,{children:[Object(y.jsx)(f.a,{item:!0,xs:8,children:Object(y.jsx)(C.a,{className:_.a.inputBase,placeholder:"102qwertxxxxxx",value:r,onChange:function(e){return a(e)}})}),Object(y.jsx)(f.a,{item:!0,container:!0,xs:4,className:_.a.buttonContainer,children:Object(y.jsx)(f.a,{item:!0,xs:12,children:Object(y.jsx)(O.a,{fullWidth:!0,variant:"contained",color:"primary",className:_.a.button,onClick:function(){return t()},children:Object(v.a)("referral.applyReferral.button")})})})]})},k=a(472),w=x.b.assets_url,N="".concat(w,"/imgs/platform/referral/coin.png"),W="".concat(w,"/imgs/platform/referral/user_add.svg"),A=a(537),I=a.n(A),E=function(e){var r=e.rate,a=e.bonus;return Object(y.jsxs)(k.a,{className:I.a.container,children:[Object(y.jsxs)(f.a,{item:!0,xs:12,sm:6,className:I.a.infoWrapper,children:[Object(y.jsx)("img",{src:W,width:"75",height:"70",alt:"user add"}),Object(y.jsxs)("div",{className:I.a.infoPercentage,children:[Object(y.jsx)("div",{children:Object(v.a)("referral.rate")}),Object(y.jsxs)("div",{children:[r||0,"%"]})]})]}),Object(y.jsx)("div",{className:I.a.divider}),Object(y.jsxs)(f.a,{item:!0,xs:12,sm:6,className:I.a.infoWrapper,children:[Object(y.jsx)("img",{src:N,width:"75",height:"70",alt:"coin"}),Object(y.jsxs)("div",{className:I.a.infoPercentage,children:[Object(y.jsx)("div",{children:Object(v.a)("referral.bonus")}),Object(y.jsx)("div",{children:a||0})]})]})]})},S=a(476),P=a(443),B=a(391),D=a(507),L=a.n(D),M=function(e){var r=e.show,a=e.onClose,t=e.applyReferralCode,n=e.onApplyReferralLink;return Object(y.jsx)(S.a,{open:r,onClose:function(){return a()},className:L.a.modal,"aria-labelledby":"apply-code","aria-describedby":"check-if-code-valid",closeAfterTransition:!0,BackdropComponent:P.a,BackdropProps:{timeout:500},children:Object(y.jsx)(B.a,{in:r,children:Object(y.jsxs)(k.a,{className:L.a.dialog,children:[Object(y.jsx)(b.a,{component:"h2",variant:"h5",children:"Apply Referral Code"}),Object(y.jsxs)("div",{className:L.a.body,children:[Object(y.jsx)("p",{className:L.a.referralCode,children:t}),Object(y.jsx)(O.a,{variant:"contained",color:"primary",onClick:function(){return n()},children:"Apply"})]})]})})})},H=a(559),F=a(553),U=function(e){var r=e.show,a=e.onClose;return Object(y.jsx)(S.a,{open:r,onClose:function(){return a()},className:L.a.modal,"aria-labelledby":"invalid-code","aria-describedby":"invalid-referral-code",closeAfterTransition:!0,BackdropComponent:P.a,BackdropProps:{timeout:500},children:Object(y.jsx)(B.a,{in:r,children:Object(y.jsx)(k.a,{className:L.a.alertError,children:Object(y.jsxs)(H.a,{severity:"error",children:[Object(y.jsx)(F.a,{children:Object(y.jsx)("h4",{children:Object(v.a)("referral.code.error.header")})}),Object(y.jsx)("span",{children:Object(v.a)("referral.code.error.subHeader")}),Object(y.jsxs)("ol",{children:[Object(y.jsx)("li",{children:Object(v.a)("referral.code.error.reason.one")}),Object(y.jsx)("li",{children:Object(v.a)("referral.code.error.reason.two")}),Object(y.jsx)("li",{children:Object(v.a)("referral.code.error.reason.three")})]})]})})})})},T=a(538),J=a.n(T),q=a(494),z=a.n(q),X=function(e){var r=e.data,a=e.showCheckReferral,t=e.showErrorReferral,n=e.onCloseCheckReferral,c=e.onCloseErrorReferral,o=e.onChangeReferralCode,i=e.applyReferralCode,l=e.onApplyReferralLink,s=r.myReferralCode,d=r.rate,j=r.bonus;return Object(y.jsxs)("div",{children:[Object(y.jsx)(M,{show:a,onClose:n,applyReferralCode:i,onApplyReferralLink:l}),Object(y.jsx)(U,{show:t,onClose:c}),Object(y.jsx)(b.a,{component:"h2",className:z.a.heading,children:Object(v.a)("referral.title")}),Object(y.jsxs)(f.a,{container:!0,xs:!0,className:J.a.container,children:[Object(y.jsx)(f.a,{item:!0,container:!0,children:Object(y.jsx)(g,{referralCode:s})}),Object(y.jsx)(f.a,{item:!0,container:!0,children:Object(y.jsx)(E,{rate:d,bonus:j})}),Object(y.jsx)(f.a,{item:!0,container:!0,children:Object(y.jsx)(R,{onChangeReferralCode:o,onApplyReferralLink:l,code:i})})]})]})},K=a(501),V=a(502),Y=a(498),G=a(242),Z=a(499),Q=a(500),$=a(503),ee=a(539),re=a.n(ee),ae=function(e){var r=e.data;return Object(y.jsxs)(l.Fragment,{children:[Object(y.jsx)(b.a,{component:"h2",className:z.a.heading,children:Object(v.a)("referral.history")}),Object(y.jsx)(Y.a,{className:re.a.container,component:G.a,children:Object(y.jsxs)(Z.a,{className:re.a.table,"aria-label":"benefits table",children:[Object(y.jsx)(Q.a,{children:Object(y.jsxs)(K.a,{children:[Object(y.jsx)(V.a,{align:"center",children:Object(v.a)("referral.history.date")}),Object(y.jsx)(V.a,{align:"center",children:Object(v.a)("referral.history.time")}),Object(y.jsx)(V.a,{align:"center",children:Object(v.a)("referral.history.referent")})]})}),Object(y.jsx)($.a,{children:r.length?r.map((function(e,r){return Object(y.jsxs)(K.a,{children:[Object(y.jsx)(V.a,{align:"center",children:new Date(e.created_at).toLocaleDateString("en-US")}),Object(y.jsx)(V.a,{align:"center",children:new Date(e.created_at).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}),Object(y.jsx)(V.a,{align:"center",children:e.applied_by})]},r)})):Object(y.jsx)(K.a,{children:Object(y.jsx)(V.a,{colSpan:3,className:re.a.emptyData,children:Object(v.a)("misc.noAvailableData")})})})]})})]})},te=a(485),ne=a(28),ce=Object(v.a)("referral.instruction"),oe=[Object(v.a)("referral.instruction.one"),Object(v.a)("referral.instruction.two"),Object(v.a)("referral.instruction.three")],ie={checkReferral:!1,errorReferral:!1};r.default=function(){var e=Object(s.c)((function(e){return e.platform})).account,r=Object(s.b)(),a=Object(j.g)(),n=Object(l.useState)([]),O=Object(i.a)(n,2),x=O[0],m=O[1],_=Object(l.useState)(""),g=Object(i.a)(_,2),C=g[0],R=g[1],k=Object(l.useState)(ie),w=Object(i.a)(k,2),N=w[0],W=w[1],A=Object(l.useState)(""),I=Object(i.a)(A,2),E=I[0],S=I[1],P=function(){var a=Object(o.a)(c.a.mark((function a(){var t;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(Object(d.b)(!0)),a.prev=1,a.next=4,Object(te.m)(null===e||void 0===e?void 0:e.referral_code);case 4:t=a.sent,m(t.data),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),R(a.t0.message);case 11:return a.prev=11,r(Object(d.b)(!1)),a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[1,8,11,14]])})));return function(){return a.apply(this,arguments)}}(),B=function(){var a=Object(o.a)(c.a.mark((function a(){var t,n;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.id,a.prev=1,a.next=4,Object(te.a)(E,t);case 4:return a.next=6,Object(te.i)(t);case 6:n=a.sent,r(Object(ne.d)(n.data)),W(ie),p.a.success(Object(v.a)("referral.code.apply")),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),W({errorReferral:!0,checkReferral:!1});case 15:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(){return a.apply(this,arguments)}}();if(Object(l.useEffect)((function(){e&&P()}),[e]),Object(l.useEffect)((function(){var r=a.location.search;if(e&&r){var n=Object(u.parse)(r).referral_code;n&&e.referral_code!==n&&(W((function(e){return Object(t.a)(Object(t.a)({},e),{},{checkReferral:!0})})),S(n))}}),[a.location,e]),C)return Object(y.jsx)(b.a,{component:"p",align:"center",children:C});var D={myReferralCode:null===e||void 0===e?void 0:e.referral_code,rate:null===e||void 0===e?void 0:e.referral_rate,bonus:null===e||void 0===e?void 0:e.referral,otherReferralCode:E};return Object(y.jsx)(l.Fragment,{children:Object(y.jsxs)(f.a,{container:!0,xs:!0,children:[Object(y.jsx)(f.a,{item:!0,className:z.a.howItWorksWrapper,xs:12,children:Object(y.jsx)(h.a,{title:ce,instruction:oe})}),Object(y.jsx)(f.a,{item:!0,xs:12,children:Object(y.jsx)(X,{data:D,showCheckReferral:N.checkReferral,showErrorReferral:N.errorReferral,applyReferralCode:E,onChangeReferralCode:function(e){S(e.target.value)},onCloseCheckReferral:function(){W((function(e){return Object(t.a)(Object(t.a)({},e),{},{checkReferral:!1})}))},onCloseErrorReferral:function(){W((function(e){return Object(t.a)(Object(t.a)({},e),{},{errorReferral:!1})}))},onApplyReferralLink:B})}),Object(y.jsx)(f.a,{item:!0,xs:12,children:Object(y.jsx)(ae,{data:x})})]})})}}}]);