(this.webpackJsonpcoinica=this.webpackJsonpcoinica||[]).push([[22],{1103:function(t,e,n){"use strict";n.r(e);var a=n(6),s=n(19),i=n(0),c=n(30),o=n(457),r=n(531),l=n(10),u=n(507),d=n(493),h=n(68),b=n(494),g=n(693),_=n(535),m=n(456),j=n(585),v=n.n(j),f=n(1),O=function(t){var e=t.earnings,n=t.winStreak,a=t.avatar,c=t.details,o=t.modalState,l=t.setModalState,u=Object(i.useState)(!1),h=Object(s.a)(u,2),b=h[0],j=h[1],O=Object(i.useState)(null),p=Object(s.a)(O,2),k=p[0],x=p[1],y=null===c||void 0===c?void 0:c.key;Object(i.useEffect)((function(){o&&(j(!0),y&&Object(d.d)(y).then((function(t){var e=t.data;if(e){var n,a=(null===(n=e[0][0])||void 0===n?void 0:n.value)||null;console.log({data:e,value:a}),x(a)}})).catch((function(){})).finally((function(){j(!1)})))}),[o]);var N=null;return k&&(N=Array(null===k||void 0===k?void 0:k.rarity).fill(null).map((function(t,e){return Object(f.jsx)("img",{src:m.S,alt:"",className:v.a.starStyle,style:{marginLeft:0!==e?"-30px":"0px"}},e)}))),Object(f.jsxs)(g.a,{show:o,contentClassName:v.a.GhostDetailModalStyle,size:"lg","aria-labelledby":"contained-modal-title-vcenter",style:{backgroundColor:"rgba(0,0,0,0.3)"},children:[Object(f.jsxs)(g.a.Body,{children:[Object(f.jsxs)("h4",{children:["ID: ",y?(y+"").substr(y.length-12):"No data"]}),b?Object(f.jsx)("div",{className:"my-3 w-100 d-flex justify-content-center",children:Object(f.jsx)(r.a,{animation:"grow"})}):Object(f.jsxs)("div",{className:"my-3",children:[k&&Object(f.jsxs)("div",{className:v.a.charAttributesContainer,children:[Object(f.jsxs)("div",{className:"position-relative my-3",children:[Object(f.jsx)("div",{className:v.a.ghostImage,style:{backgroundImage:"url(".concat(a,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"}}),Object(f.jsx)("div",{className:"position-absolute",style:{bottom:"-15px"},children:N})]}),Object(f.jsxs)("div",{className:v.a.charAttriData,children:[Object(f.jsxs)("div",{className:"mb-2",children:["Ghost: ",(null===k||void 0===k?void 0:k.ghost_name)||""]}),Object(f.jsxs)("div",{className:"mb-2",children:["HP: ",(null===k||void 0===k?void 0:k.hitpoints)||""]}),Object(f.jsxs)("div",{className:"mb-2",children:["ATK: ",(null===k||void 0===k?void 0:k.attack)||""]})]}),Object(f.jsxs)("div",{className:v.a.charAttriData,children:[Object(f.jsxs)("div",{className:"mb-2",children:["DEF: ",(null===k||void 0===k?void 0:k.defense)||""]}),Object(f.jsxs)("div",{className:"mb-2",children:["SPD: ",(null===k||void 0===k?void 0:k.speed)||""]}),Object(f.jsxs)("div",{className:"mb-2",children:["LUK: ",(null===k||void 0===k?void 0:k.luck)||""]})]})]}),Object(f.jsx)("div",{className:"d-flex ml-1 mb-2",children:Object(f.jsxs)("div",{className:"d-flex justify-space-between",style:{marginRight:"50px"},children:[e&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{style:{marginRight:"15px",fontWeight:"bold"},children:"Earnings:"}),Object(f.jsx)("span",{style:{fontWeight:"bold",color:"rgb(149, 255, 12)"},children:e+" Token"})]}),n&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{style:{marginRight:"15px",fontWeight:"bold"},children:"Win-streak:"}),Object(f.jsx)("span",{style:{fontWeight:"bold"},children:n})]})]})})]})]}),Object(f.jsx)(g.a.Footer,{children:Object(f.jsx)(_.a,{onClick:function(){return l(!1)},children:"Close"})})]})},p=n(530),k=l.c.assets_url,x="".concat(k,"/imgs/games/ghost_quest/ranking/btn_earnings_active.png"),y="".concat(k,"/imgs/games/ghost_quest/ranking/btn_win_streak.png"),N=("".concat(k,"/imgs/games/ghost_quest/modals/autoplay/btn_hint.png"),"".concat(k,"/imgs/games/ghost_quest/ranking/btn_lifetime_inactive.png")),R="".concat(k,"/imgs/games/ghost_quest/ranking/btn_lifetime_active.png"),S="".concat(k,"/imgs/games/ghost_quest/ranking/btn_weekly_inactive.png"),w="".concat(k,"/imgs/games/ghost_quest/ranking/btn_weekly_active.png"),G="".concat(k,"/imgs/games/ghost_quest/ranking/btn_daily_inactive.png"),C="".concat(k,"/imgs/games/ghost_quest/ranking/btn_daily_active.png"),Q="".concat(k,"/imgs/games/ghost_quest/ghost_list/btn_sort.png"),q="".concat(k,"/imgs/games/ghost_quest/ghost_list/btn_details.png"),D="".concat(k,"/audio/games/ghostquest/GQ_RankingBGM.mp3"),A="".concat(k,"/audio/games/ghostquest/GQ_Click.mp3"),E=n(54),B=function(t){var e=t%10,n=t%100;return 1===e&&11!==n?t+"st":2===e&&12!==n?t+"nd":3===e&&13!==n?t+"rd":t+"th"},P=Object(c.b)((function(t){return{ghost_quest:t.ghost_quest}}))((function(t){var e=t.place,n=t.data,a=t.selectedSort,c=t.ghost_quest,r=Object(i.useState)(!1),l=Object(s.a)(r,2),u=l[0],d=l[1],h=Object(i.useState)(null),b=Object(s.a)(h,2),g=b[0],_=b[1],m=null===c||void 0===c?void 0:c.volume,j=Object(o.a)(A,{volume:.5*m}),k=Object(s.a)(j,1)[0],x=0;return null!==a&&("earnings"===a.substr(0,8)?x=1:"win"===a.substr(0,3)&&(x=2)),Object(i.useEffect)((function(){null!=n&&function(t){var e=Object(p.a)({ghost_id:t});_(e)}(null===n||void 0===n?void 0:n.ghost_id)}),[n]),Object(f.jsxs)("div",{className:v.a.ghostRow,children:[Object(f.jsx)(O,{earnings:(null===n||void 0===n?void 0:n.earned)||null,winStreak:(null===n||void 0===n?void 0:n.win_streak)||null,avatar:g,details:n,modalState:u,setModalState:d}),Object(f.jsx)("div",{className:v.a.ghostImage,style:{backgroundImage:"url(".concat(g,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"}}),Object(f.jsx)("div",{className:v.a.ghostResults,children:Object(f.jsxs)("div",{className:v.a.ghostResultsLife,children:[Object(f.jsxs)("div",{children:[Object(E.a)("gq.ranking.place"),":"]}),Object(f.jsxs)("div",{children:[Object(E.a)("gq.ranking.player"),":"]}),Object(f.jsxs)("div",{className:"text-left",children:[x&&1===x&&"Earnings: ".concat(n.earned),x&&2===x&&"Win streak: ".concat(n.win_streak)]})]})}),Object(f.jsxs)("div",{className:v.a.ghostDetails,children:[Object(f.jsx)("div",{children:B(+e+1)}),Object(f.jsx)("div",{children:null!==n.owner?(n.owner+"").slice(-12):"No data"}),Object(f.jsx)("div",{className:"hover-cursor",children:Object(f.jsx)("img",{src:q,alt:"Details",className:v.a.btnDetails,onClick:function(){k(),d(!0)}})})]})]})})),H=("".concat(l.c.assets_url,"/imgs/games/ghost_quest/ghost_list/modal_bg.png"),1075),I={0:"daily",1:"weekly",2:"lifetime"};e.default=Object(c.b)((function(t){return{platform:t.platform,ghost_quest:t.ghost_quest}}),(function(t){return{dispatch:t}}))((function(t){var e=t.ghost_quest,n=null===e||void 0===e?void 0:e.volume,c=Object(i.useRef)(null),l=t.platform.account,g=null===l||void 0===l?void 0:l.username,_=Object(o.a)(A,{volume:.5*n}),j=Object(s.a)(_,1)[0],O=Object(o.a)(D,{volume:.1*n}),p=Object(s.a)(O,2)[1].sound,k=Object(i.useState)(1),q=Object(s.a)(k,2),E=q[0],B=q[1],W=Object(i.useState)(!0),z=Object(s.a)(W,2),M=z[0],F=z[1],K=Object(i.useState)(0),T=Object(s.a)(K,2),L=T[0],U=T[1],J=Object(i.useState)(0),Z=Object(s.a)(J,2),Y=Z[0],V=Z[1],X=Array.isArray(e[Y])?e[Y]:[];Object(b.a)(c,(function(t){var e=t.width,n=t.height,a=Math.min(e/H,n/750);B(.9*a)})),Object(i.useEffect)((function(){return p&&(p.play(),p.on("end",(function(){p.play()}))),function(){p&&p.stop()}}),[p]);var $=function(t){j(),V(t)};return Object(i.useEffect)((function(){if(Y)if(F(!0),0===L){var e=I[Y];Object(d.f)(e).then((function(e){var n=e.data;n.length&&t.dispatch(Object(h.f)({category:Y,data:n}))})).finally((function(){F(!1)}))}else if(1===L){var n=I[Y];Object(d.g)(n).then((function(e){var n=e.data;n.length&&t.dispatch(Object(h.f)({category:Y,data:n}))})).finally((function(){F(!1)}))}}),[Y]),Object(f.jsx)("div",{className:v.a.parent_container,ref:c,children:Object(f.jsxs)("div",{className:v.a.scalable_container,style:{zoom:E,minWidth:"".concat(H,"px"),maxWidth:"".concat(H,"px"),height:"".concat(750,"px")},children:[Object(f.jsx)("div",{className:v.a.header,children:Object(f.jsx)(u.a,Object(a.a)(Object(a.a)({},t),{},{username:g,showSummon:function(){t.history.push("/game/ghostquest/summon")}}))}),Object(f.jsxs)("div",{className:v.a.contents,children:[Object(f.jsxs)("div",{className:v.a.leftSideNav,children:[Object(f.jsx)("div",{className:"my-2 hover-cursor",children:Object(f.jsx)("img",{className:"".concat(0===L?v.a.activeCategory:""," hover-cursor"),src:x,alt:"Earnings",onClick:function(){return U(0)}})}),Object(f.jsx)("div",{className:"my-2 hover-cursor",children:Object(f.jsx)("img",{className:"".concat(1===L?v.a.activeCategory:""," hover-cursor"),src:y,alt:"WinStreak",onClick:function(){return U(1)}})})]}),Object(f.jsxs)("div",{className:v.a.container_modal,children:[Object(f.jsx)("img",{src:m.F,alt:""}),Object(f.jsx)("div",{className:v.a.container_title,children:"Ranking"}),Object(f.jsx)("div",{className:v.a.contentScrollable,children:Object(f.jsxs)("div",{className:v.a.rulesContent,children:[M?Object(f.jsx)(r.a,{animation:"grow",style:{marginTop:"40%",position:"absolute"}}):null,X&&X.length>0?X.map((function(t,e){return Object(f.jsx)(P,{selectedSort:Y,place:e,data:t},e)})):Object(f.jsx)("div",{className:"w-100 h-100 d-flex align-items-center justify-content-center",children:Object(f.jsx)("h3",{children:"No data found"})})]})})]}),Object(f.jsx)("div",{className:v.a.rightSideNav,children:Object(f.jsxs)("div",{className:v.a.rightSideNavContent,children:[Object(f.jsx)("div",{className:v.a.sortBtn,children:Object(f.jsx)("img",{src:Q,alt:"Sort"})}),Object(f.jsxs)("div",{className:v.a.filterBtns,children:[Object(f.jsx)("img",{src:0===Y?C:G,alt:"Daily",className:"".concat(v.a.btnSvg," hover-cursor"),onClick:function(){return $(0)}}),Object(f.jsx)("img",{src:1===Y?w:S,alt:"Daily",className:"".concat(v.a.btnSvg," hover-cursor"),onClick:function(){return $(1)}}),Object(f.jsx)("img",{src:2===Y?R:N,alt:"Daily",className:"".concat(v.a.btnSvg," hover-cursor"),onClick:function(){return $(2)}})]})]})})]}),Object(f.jsx)("div",{className:v.a.main_container_btm_overlay})]})})}))},457:function(t,e,n){"use strict";var a=n(0),s=n.n(a);function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}e.a=function(t,e){void 0===e&&(e={});var c,o=e,r=o.volume,l=void 0===r?1:r,u=o.playbackRate,d=void 0===u?1:u,h=o.soundEnabled,b=void 0===h||h,g=o.interrupt,_=void 0!==g&&g,m=o.onload,j=function(t,e){if(null==t)return{};var n,a,s={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(s[n]=t[n]);return s}(o,["id","volume","playbackRate","soundEnabled","interrupt","onload"]),v=s.a.useRef(null),f=s.a.useRef(!1),O=s.a.useState(null),p=O[0],k=O[1],x=s.a.useState(null),y=x[0],N=x[1],R=function(){"function"===typeof m&&m.call(this),f.current&&k(1e3*this.duration()),N(this)};c=function(){return n.e(29).then(n.t.bind(null,533,7)).then((function(e){var n;f.current||(v.current=null!==(n=e.Howl)&&void 0!==n?n:e.default.Howl,f.current=!0,new v.current(i({src:Array.isArray(t)?t:[t],volume:l,rate:d,onload:R},j)))})),function(){f.current=!1}},Object(a.useEffect)(c,[]),s.a.useEffect((function(){v.current&&y&&N(new v.current(i({src:Array.isArray(t)?t:[t],volume:l,onload:R},j)))}),[JSON.stringify(t)]),s.a.useEffect((function(){y&&(y.volume(l),y.rate(d))}),[l,d]);var S=s.a.useCallback((function(t){"undefined"===typeof t&&(t={}),y&&(b||t.forceSoundEnabled)&&(_&&y.stop(),t.playbackRate&&y.rate(t.playbackRate),y.play(t.id))}),[y,b,_]),w=s.a.useCallback((function(t){y&&y.stop(t)}),[y]),G=s.a.useCallback((function(t){y&&y.pause(t)}),[y]);return[S,{sound:y,stop:w,pause:G,duration:p}]}},507:function(t,e,n){"use strict";var a=n(19),s=(n(0),n(30)),i=n(457),c=n(456),o=n(508),r=n.n(o),l=n(1);e.a=Object(s.b)((function(t){return{ghost_quest:t.ghost_quest,platform:t.platform}}))((function(t){null===(e=t.platform)||void 0===e||null===(n=e.account)||void 0===n||n.user_game_id;var e,n,s,o=null===t||void 0===t||null===(s=t.ghost_quest)||void 0===s?void 0:s.volume,u=Object(i.a)(c.x,{volume:.5*o}),d=Object(a.a)(u,1)[0];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("img",{src:c.q,alt:"Home",className:"".concat(r.a.header_home_btn),onClick:function(){return d(),void(t.history&&t.history.push("/game/ghostquest"))}}),Object(l.jsx)("img",{src:c.s,alt:"Ranking",className:"".concat(r.a.header_ranking_btn),onClick:function(){return d(),void(t.history&&t.history.push("/game/ghostquest/ranking"))}}),Object(l.jsx)("img",{src:c.u,alt:"Summon",className:"".concat(r.a.header_summon_btn),onClick:function(){return d(),void(t.showSummon&&"function"===typeof t.showSummon&&t.showSummon())}}),Object(l.jsx)("img",{src:c.r,alt:"GhostList",className:"".concat(r.a.header_list_btn),onClick:function(){return d(),void(t.history&&t.history.push("/game/ghostquest/ghostlist"))}})]})}))},508:function(t,e,n){t.exports={header_home_btn:"Header_header_home_btn__w80aS",header_list_btn:"Header_header_list_btn__ZmGs8",header_summon_btn:"Header_header_summon_btn__7wzOf",header_ranking_btn:"Header_header_ranking_btn__328fC"}},531:function(t,e,n){"use strict";var a=n(2),s=n(21),i=n(453),c=n.n(i),o=n(0),r=n.n(o),l=n(455),u=["bsPrefix","variant","animation","size","children","as","className"],d=r.a.forwardRef((function(t,e){var n=t.bsPrefix,i=t.variant,o=t.animation,d=t.size,h=t.children,b=t.as,g=void 0===b?"div":b,_=t.className,m=Object(s.a)(t,u),j=(n=Object(l.a)(n,"spinner"))+"-"+o;return r.a.createElement(g,Object(a.a)({ref:e},m,{className:c()(_,j,d&&j+"-"+d,i&&"text-"+i)}),h)}));d.displayName="Spinner",e.a=d},535:function(t,e,n){"use strict";var a=n(2),s=n(21),i=n(453),c=n.n(i),o=n(0),r=n.n(o),l=n(455);var u=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return null!=t})).reduce((function(t,e){if("function"!==typeof e)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===t?e:function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];t.apply(this,a),e.apply(this,a)}}),null)},d=["as","disabled","onKeyDown"];function h(t){return!t||"#"===t.trim()}var b=r.a.forwardRef((function(t,e){var n=t.as,i=void 0===n?"a":n,c=t.disabled,o=t.onKeyDown,l=Object(s.a)(t,d),b=function(t){var e=l.href,n=l.onClick;(c||h(e))&&t.preventDefault(),c?t.stopPropagation():n&&n(t)};return h(l.href)&&(l.role=l.role||"button",l.href=l.href||"#"),c&&(l.tabIndex=-1,l["aria-disabled"]=!0),r.a.createElement(i,Object(a.a)({ref:e},l,{onClick:b,onKeyDown:u((function(t){" "===t.key&&(t.preventDefault(),b(t))}),o)}))}));b.displayName="SafeAnchor";var g=b,_=["bsPrefix","variant","size","active","className","block","type","as"],m=r.a.forwardRef((function(t,e){var n=t.bsPrefix,i=t.variant,o=t.size,u=t.active,d=t.className,h=t.block,b=t.type,m=t.as,j=Object(s.a)(t,_),v=Object(l.a)(n,"btn"),f=c()(d,v,u&&"active",i&&v+"-"+i,h&&v+"-block",o&&v+"-"+o);if(j.href)return r.a.createElement(g,Object(a.a)({},j,{as:m,ref:e,className:c()(f,j.disabled&&"disabled")}));e&&(j.ref=e),b?j.type=b:m||(j.type="button");var O=m||"button";return r.a.createElement(O,Object(a.a)({},j,{className:f}))}));m.displayName="Button",m.defaultProps={variant:"primary",active:!1,disabled:!1};e.a=m},585:function(t,e,n){t.exports={parent_container:"GhostQuestRanking_parent_container__3fYBp",scalable_container:"GhostQuestRanking_scalable_container__1iZU-",main_container_btm_overlay:"GhostQuestRanking_main_container_btm_overlay__1cwmH",header:"GhostQuestRanking_header__ZbtVl",header_home_btn:"GhostQuestRanking_header_home_btn__1Ox_n",header_list_btn:"GhostQuestRanking_header_list_btn__3ymih",header_summon_btn:"GhostQuestRanking_header_summon_btn__3GUat",header_ranking_btn:"GhostQuestRanking_header_ranking_btn__35oA1",contents:"GhostQuestRanking_contents__2HBh_",container_modal:"GhostQuestRanking_container_modal__1mK0Q",fadeInDownBig:"GhostQuestRanking_fadeInDownBig__35u0y",container_title:"GhostQuestRanking_container_title__v3Qe_",contentScrollable:"GhostQuestRanking_contentScrollable__8Isrm",rulesContent:"GhostQuestRanking_rulesContent__ObUsh",sideNav:"GhostQuestRanking_sideNav__1ubWx",leftSideNav:"GhostQuestRanking_leftSideNav__2YAYF",activeCategory:"GhostQuestRanking_activeCategory__259zB",rightSideNav:"GhostQuestRanking_rightSideNav__2O6hh",rightSideNavContent:"GhostQuestRanking_rightSideNavContent__3kk-x",sortBtn:"GhostQuestRanking_sortBtn__160yA",filterBtns:"GhostQuestRanking_filterBtns__1UT3P",btnContainer:"GhostQuestRanking_btnContainer__9bVJm",ghostRow:"GhostQuestRanking_ghostRow__2NOii",ghostImage:"GhostQuestRanking_ghostImage__vx3d6",btnDetails:"GhostQuestRanking_btnDetails__3X8fw",ghostDetails:"GhostQuestRanking_ghostDetails__QAwXH",ghostResults:"GhostQuestRanking_ghostResults__1gluT",ghostResultsLife:"GhostQuestRanking_ghostResultsLife__CT6ZX",GhostDetailModalStyle:"GhostQuestRanking_GhostDetailModalStyle__3VKdP",starStyle:"GhostQuestRanking_starStyle__GUYrZ",charAttributesContainer:"GhostQuestRanking_charAttributesContainer__3JQsW",charAttriData:"GhostQuestRanking_charAttriData__24CMs",charBattlesContent:"GhostQuestRanking_charBattlesContent__3Hcrj"}}}]);